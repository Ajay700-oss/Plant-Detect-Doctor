<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Crop Disease Detection System</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>

<!-- HERO SECTION -->
<!-- HERO SECTION -->
<section class="hero" id="home">

    <!-- BACKGROUND VIDEO -->
    <video autoplay muted loop playsinline class="hero-video">
        <source src="{{ url_for('static', filename='assets/hero-video.mp4') }}" type="video/mp4">
        Your browser does not support the video tag.
    </video>
     

    <!-- DARK OVERLAY -->
    <div class="hero-overlay"></div>

    <!-- CONTENT -->
    <div class="hero-content">
        <h1>CROP DISEASE DETECTION SYSTEM</h1>
        <p>Right disease. Right pesticide. Right time.</p>
        <a href="#detect">
            <!-- From Uiverse.io by mobinkakei --> 
            <button class="btn">
                   <span class="btn-text-one">Detect</span>
                   <span class="btn-text-two">DISEASE</span>
            </button>
            
        </a>
        
       
     



    </div>

</section>


<!-- CROPS SECTION -->
<!-- CROPS SECTION -->
<section class="crops" id="crops">
    <video class="crops-video" autoplay muted loop playsinline>
        <source src="{{ url_for('static', filename='assets/crops-bg.mp4') }}" type="video/mp4">
    </video>
    <div class="crops-overlay">
        <h2>Supported Crops</h2>

        <div class="crop-grid">

            <!-- TOMATO -->
            <div class="flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <img src="{{ url_for('static', filename='assets/tomato.png') }}" alt="Tomato">
                        <h3>Tomato</h3>
                    </div>
                    <div class="flip-card-back">
                        <h3>Tomato</h3>
                        <p><b>Diseases:</b> Blight, Wilt, Mosaic</p>
                        <p><b>Season:</b> Summer</p>
                        <p><b>Climate:</b> Warm</p>
                        <p><b>Treatment Methods:</b> Apply appropriate broad-spectrum or systemic pesticide (if disease is known to be vector-borne).
                        Isolate and immediately remove all affected plant parts to prevent spread.Use fungicides targeting the specific pathogen (e.g., Copper or Mancozeb).</p>
                    </div>
                </div>
            </div>

            <!-- POTATO -->
            <div class="flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <img src="{{ url_for('static', filename='assets/potato.png') }}" alt="Potato">
                        <h3>Potato</h3>
                    </div>
                    <div class="flip-card-back">
                        <h3>Potato</h3>
                        <p><b>Diseases:</b> Late Blight, Scab</p>
                        <p><b>Season:</b> Winter</p>
                        <p><b>Climate:</b> Cool</p>
                        <p><b>Treatment Methods</b> For Late Blight, apply protective fungicides (e.g., Chlorothalonil or Mancozeb) before symptoms appear.
For Scab, maintain an acidic soil pH (below 5.2) and practice crop rotation.
Ensure good hilling practices to prevent tuber exposure and infection.</p>
                    </div>
                </div>
            </div>

            <!-- CORN -->
            <div class="flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <img src="{{ url_for('static', filename='assets/corn.png') }}" alt="Corn">
                        <h3>Corn</h3>
                    </div>
                    <div class="flip-card-back">
                        <h3>Corn</h3>
                        <p><b>Diseases:</b> Rust, Smut</p>
                        <p><b>Season:</b> Monsoon</p>
                        <p><b>Climate:</b> Warm</p>
                        <p><b>Treatment Methods:</b>Plant rust-resistant corn varieties to reduce the risk of infection.
  Apply fungicides (e.g., Triazoles) early if rust is detected before it spreads widely.
  For Smut, sanitation is key; remove and destroy galls before they rupture.</p>
                    </div>
                </div>
            </div>

            <!-- WHEAT -->
            <div class="flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <img src="{{ url_for('static', filename='assets/wheat.png') }}" alt="Wheat">
                        <h3>Wheat</h3>
                    </div>
                    <div class="flip-card-back">
                        <h3>Wheat</h3>
                        <p><b>Diseases:</b> Rust, Bunt</p>
                        <p><b>Season:</b> Winter</p>
                        <p><b>Climate:</b> Cool</p>
                        <p><b>Treatment Methods:</b> Use certified, fungicide-treated seeds to control seed-borne diseases like Bunt.
 Select wheat varieties known to be resistant to the locally prevalent Rust strains.
 Apply foliar fungicides if Rust severity reaches critical threshold</p>
                    </div>
                </div>
            </div>

            <!-- APPLE -->
            <div class="flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <img src="{{ url_for('static', filename='assets/apple.png') }}" alt="Apple">
                        <h3>Apple</h3>
                    </div>
                    <div class="flip-card-back">
                        <h3>Apple</h3>
                        <p><b>Diseases:</b> Scab, Fire Blight</p>
                        <p><b>Season:</b> Autumn</p>
                        <p><b>Climate:</b> Cold</p>
                        <p><b>Treatment Methods:</b> For Scab, apply protective fungicide sprays early in the season (e.g., Myclobutanil).
 For Fire Blight, prune out infected branches immediately, cutting well below the visible damage.
 Apply copper or streptomycin sprays during bloom to prevent Fire Blight spread.</p>
                    </div>
                </div>
            </div>

            <!-- GRAPE -->
            <div class="flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <img src="{{ url_for('static', filename='assets/grape.png') }}" alt="Grape">                       
                        <h3>Grape</h3>
                    </div>
                    <div class="flip-card-back">
                        <h3>Grape</h3>
                        <p><b>Diseases:</b> Downy Mildew</p>
                        <p><b>Season:</b> Summer</p>
                        <p><b>Climate:</b> Moderate</p>
                        <p><b>Treatment Methods:</b> Ensure good canopy management (pruning, training) to maximize air circulation and reduce humidity.
 Apply copper-based fungicides or other systemic fungicides as a preventative measure.
 Remove infected leaves and shoots to reduce the amount of disease-causing inoculum.</p>
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>

<!-- PLANT DISEASES DATABASE -->
<section class="diseases" id="diseases">
    <div class="diseases-overlay">

        <h2>Plant Diseases Database</h2>

        <div class="disease-grid">

            <div class="disease-card">
                <h3>Late Blight (Tomato)</h3>
                <p><b>Symptoms:</b> Dark, water-soaked spots on leaves and stems.</p>
                <p><b>Prevention:</b> Avoid overhead watering; ensure good air circulation.</p>
                <p><b>Supplements:</b> Copper fungicide, Organic neem oil.</p>
            </div>

            <div class="disease-card">
                <h3>Potato Scab (Potato)</h3>
                <p><b>Symptoms:</b> Rough, corky lesions on tuber surfaces.</p>
                <p><b>Prevention:</b> Maintain acidic soil (pH &lt; 5.2); crop rotation.</p>
                <p><b>Supplements:</b> Sulfur soil amendment, Acidifying fertilizers.</p>
            </div>

            <div class="disease-card">
                <h3>Common Rust (Corn)</h3>
                <p><b>Symptoms:</b> Reddish-orange pustules on leaf surfaces.</p>
                <p><b>Prevention:</b> Resistant varieties; avoid dense stands.</p>
                <p><b>Supplements:</b> Propiconazole fungicide, Foliar nutrients.</p>
            </div>
            <div class="disease-card">
                    <h3>Leaf Rust (Wheat)</h3>
                    <p><b>Symptoms:</b> Orange-brown pustules on leaves; yield loss possible.</p>
                    <p><b>Prevention:</b> Resistant varieties and crop rotation.</p>
                    <p><b>Supplements:</b> Triazole fungicides, Balanced NPK.</p>
            </div>
            <div class="disease-card">
                    <h3>Apple Scab (Apple)</h3>
                    <p><b>Symptoms:</b> Olive-green to black spots on leaves and fruit.</p>
                    <p><b>Prevention:</b> Remove fallen leaves; prune for air circulation.</p> 
                    <p><b>Supplements:</b> Preventive copper sprays, Myclobutanil.</p>
            </div>

            <div class="disease-card">
                    <h3>Downy Mildew (Grape)</h3>
                    <p><b>Symptoms:</b> Yellow oily spots; white downy growth underside.</p>
                    <p><b>Prevention:</b> Good canopy management; fungicide schedule.</p>
                    <p><b>Supplements:</b> Copper-based fungicide, Organic sulfur.</p>
           </div>

        </div>
    </div>
</section>

<!-- ABOUT SECTION -->
<!-- ABOUT SECTION -->
<section class="about" id="about">
    <div class="about-overlay">

        <!-- Logo -->
        <div class="about-logo">
           <img src="{{ url_for('static', filename='assets/plantdose-logo.png') }}" alt="Plant Dose Logo">

        </div>

        <!-- Title -->
        <h2>About the System</h2>

        <!-- Description -->
        <p>
            The PlantCare system is a dedicated AI-powered diagnostic tool built to support farmers and
            agricultural specialists. Our core function is to provide rapid and accurate identification
            of common crop diseases by analyzing uploaded leaf images. This is achieved using a finely
            tuned Machine Learning model trained on extensive datasets of healthy and infected plant
            samples.Once a disease is detected, the system instantly cross-references its database to deliver
            a specific and targeted treatment plan, including recommendations for effective pesticides
            or organic controls. Our goal is to minimize crop loss, ensure timely intervention, and
            promote responsible treatment practices in agriculture.
        </p>

    </div>
</section>


<!-- POWER BI DASHBOARD SECTION -->
<section class="powerbi" id="dashboard">
    <div class="powerbi-overlay">
        <h2>Crop Health Monitoring Dashboard</h2>
        <p>Interactive analytics and insights from Power BI</p>

        <div class="powerbi-container">
            <iframe 
                title="EDA ajay"
                src="https://app.powerbi.com/view?r=eyJrIjoiMmZhZmZmM2YtOTIzNi00MzJhLTg2NmQtN2EwYmI3ZTVlYTRhIiwidCI6IjZiOGI4Mjk2LWJkZmYtNGFkOC05M2FkLTg0YmNiZjM4NDJmNSJ9&pageName=1926f6b1be52ee745a01" 
                frameborder="0"
                allowFullScreen="true">
            </iframe>
        </div>
    </div>
</section>

<section id="detect" class="min-h-screen"
style="
background: linear-gradient(
    rgba(255,255,255,0.35),
    rgba(255,255,255,0.35)
),
url('{{ url_for('static', filename='assets/hero.png') }}');
background-size: cover;
background-position: center;
background-attachment: fixed;
">

<div class="pt-24 flex items-center justify-center px-6 py-16">
    <div class="bg-white p-8 rounded-2xl shadow-2xl w-full max-w-3xl detect-card">


        <h1 class="text-4xl font-extrabold text-green-700 text-center mb-2">
            PlantDose
        </h1>

        <p class="text-center text-gray-600 mb-8">
            Upload a leaf image to detect plant disease
        </p>

        <form id="uploadForm" class="space-y-4">
            <input type="file"
                   id="imageInput"
                   name="file"
                   accept="image/*"
                   required
                   class="block w-full border border-gray-300 rounded-lg p-2">

            <button type="submit"
                    class="w-full bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 transition">
                Detect Disease
            </button>
        </form>

        <div id="result" class="mt-8 hidden">
            <h2 class="text-2xl font-bold text-green-700 mb-2">Result</h2>
            <p><b>Disease:</b> <span id="diagnosis"></span></p>
            <p><b>Confidence:</b> <span id="confidence"></span></p>
            <p class="mt-2 font-semibold">Recommendation:</p>
            <p id="recommendation" class="text-gray-700"></p>
        </div>

        <div id="error" class="mt-6 text-red-600 hidden"></div>

    </div>
</div>
</section>




<script>
const form = document.getElementById("uploadForm");

if (form) {
    form.addEventListener("submit", async (e) => {
        e.preventDefault();

        const fileInput = document.getElementById("imageInput");
        const formData = new FormData();
        formData.append("file", fileInput.files[0]);

        try {
            const response = await fetch("/predict", {
                method: "POST",
                body: formData
            });

            const data = await response.json();
            if (!data.success) throw data.error;

            document.getElementById("result").classList.remove("hidden");
            document.getElementById("diagnosis").innerText = data.diagnosis;
            document.getElementById("confidence").innerText = data.confidence;
            document.getElementById("recommendation").innerText = data.recommendation;

        } catch (err) {
            document.getElementById("error").classList.remove("hidden");
            document.getElementById("error").innerText =
                "Prediction failed. Check server console.";
        }
    });
}
</script>


<!-- NAVBAR -->
<nav class="navbar">
    <div class="nav-logo">
        <img src="{{ url_for('static', filename='assets/logo.png') }}" alt="Logo" class="nav-logo-img">
        <span> PlantDose</span>
    </div>

    <ul class="nav-links">
        <li><a href="#home">Home</a></li>
        <li><a href="#crops">Crops</a></li>
        <li><a href="#diseases">Diseases</a></li>
        <li><a href="#dashboard">Dashboard</a></li>
        <li><a href="#about">About</a></li>
        <li><a href="#detect">Detect</a></li>
    </ul>
</nav>



<script>
let scrollIndex = 0;

function scrollDisease(direction) {
    const slider = document.getElementById("diseaseSlider");
    const cardWidth = slider.querySelector(".disease-card").offsetWidth + 25;

    scrollIndex += direction * cardWidth;

    // Prevent over-scrolling
    scrollIndex = Math.max(0, scrollIndex);
    scrollIndex = Math.min(
        scrollIndex,
        slider.scrollWidth - slider.clientWidth
    );

    slider.scrollTo({
        left: scrollIndex,
        behavior: "smooth"
    });
}
</script>




</body>
</html>
